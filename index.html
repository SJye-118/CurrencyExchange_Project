<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <title>FinanceHub - Financial Dashboard</title>
    <meta
      content="width=device-width, initial-scale=1.0, shrink-to-fit=no"
      name="viewport"
    />
    <link
      rel="icon"
      href="assets/img/kaiadmin/favicon.ico"
      type="image/x-icon"
    />

    <!-- Fonts and icons -->
    <script src="assets/js/plugin/webfont/webfont.min.js"></script>
    <script>
      WebFont.load({
        google: { families: ["Public Sans:300,400,500,600,700"] },
        custom: {
          families: [
            "Font Awesome 5 Solid",
            "Font Awesome 5 Regular",
            "Font Awesome 5 Brands",
            "simple-line-icons",
          ],
          urls: ["assets/css/fonts.min.css"],
        },
        active: function () {
          sessionStorage.fonts = true;
        },
      });
    </script>

    <!-- CSS Files -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/plugins.min.css" />
    <link rel="stylesheet" href="assets/css/kaiadmin.min.css" />
		<link rel="stylesheet" href="assets/css/extradashboard.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/4.4.0/chart.umd.js"></script>


  </head>
  <body>
    <div class="wrapper">
      <!-- Sidebar -->
      <div class="sidebar" data-background-color="dark">
        <div class="sidebar-logo">
          <!-- Logo Header -->
          <div class="logo-header" data-background-color="dark">
            <a href="index.html" class="logo">
              <img
                src="assets/img/kaiadmin/logo_light.svg"
                alt="navbar brand"
                class="navbar-brand"
                height="20"
              />
            </a>
            <div class="nav-toggle">
              <button class="btn btn-toggle toggle-sidebar">
                <i class="gg-menu-right"></i>
              </button>
              <button class="btn btn-toggle sidenav-toggler">
                <i class="gg-menu-left"></i>
              </button>
            </div>
            <button class="topbar-toggler more">
              <i class="gg-more-vertical-alt"></i>
            </button>
          </div>
          <!-- End Logo Header -->
        </div>
        <div class="sidebar-wrapper scrollbar scrollbar-inner">
          <div class="sidebar-content">
            <ul class="nav nav-secondary">
              <li class="nav-item active">
                <a href="#dashboard" onclick="showPage('dashboard')">
                  <i class="fas fa-home"></i>
                  <p>Dashboard</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#exchange" onclick="showPage('exchange')">
                  <i class="fas fa-exchange-alt"></i>
                  <p>Currency Exchange</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="chatbot.html" onclick="showPage('Chatbot')">
                  <i class="fas fa-robot"></i>
                  <p>Chatbot</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="news.html" onclick="showPage('news')">
                  <i class="fas fa-newspaper"></i>
                  <p>News</p>
                </a>
              </li>
              <li class="nav-item">
                <a href="#about" onclick="showPage('about')">
                  <i class="fas fa-info-circle"></i>
                  <p>About</p>
                </a>
              </li>
            </ul>
          </div>
        </div>
      </div>
      <!-- End Sidebar -->

      <div class="main-panel">
        <!-- Dashboard Page -->
        <div id="dashboard-page" class="page-content">
          <div class="container">
            <div class="page-inner">
						<h1>Economic Data Dashboard</h1>
						<br>
						<!-- KPI CARDS -->
						<section class="grid0 kpis0">
							<div class="card0">
								<div class="kpi-title0">GDP Growth</div>
								<div class="kpi-value0" id="kpi-gdp">â€”</div>
								<div class="updated0" id="kpi-gdp-upd">â€”</div>
							</div>
							<div class="card0">
								<div class="kpi-title0">Inflation Rate</div>
								<div class="kpi-value0" id="kpi-cpi">â€”</div>
								<div class="updated0" id="kpi-cpi-upd">â€”</div>
							</div>
							<div class="card0">
								<div class="kpi-title0">USD â†’ MYR</div>
								<div class="kpi-value0" id="kpi-usdmyr">Loadingâ€¦</div>
								<div class="updated0" id="kpi-usdmyr-upd">â€”</div>
							</div>
							<div class="card0">
								<div class="kpi-title0">EUR â†’ MYR</div>
								<div class="kpi-value0" id="kpi-eurmyr">Loadingâ€¦</div>
								<div class="updated0" id="kpi-eurmyr-upd">â€”</div>
							</div>
						</section>

						<!-- CHARTS -->
						<section class="grid0 charts0" style="margin-top:22px">
							<div class="card0">
								<div class="kpi-title0" style="margin-bottom:8px">Historical USD â†’ MYR (last 14 days)</div>
								<canvas id="lineChart"></canvas>
							</div>
							<div class="card0">
								<div class="kpi-title0" style="margin-bottom:8px">Major Pairs vs USD (Bar)</div>
								<canvas id="barChart"></canvas>
							</div>
						</section>

						<!-- TABLE + FILTERS -->
						<section class="card0" style="margin-top:22px">
							<div class="controls0">
								<label>Base:
									<select id="baseCurrency">
										<option>USD</option><option>MYR</option><option>EUR</option>
										<option>GBP</option><option>JPY</option><option>AUD</option><option>SGD</option>
									</select>
								</label>
								<label>Target:
									<select id="targetCurrency">
										<option>MYR</option><option>USD</option><option>EUR</option>
										<option>GBP</option><option>JPY</option><option>AUD</option><option>SGD</option>
									</select>
								</label>
							</div>
							<table>
								<thead><tr><th>Timestamp</th><th>Base</th><th>Target</th><th>Rate</th></tr></thead>
								<tbody id="exchangeTable"><tr><td colspan="4">Loadingâ€¦</td></tr></tbody>
							</table>
						</section>
            </div>
          </div>
        </div>

        <!-- Currency Exchange Page -->
        <div id="exchange-page" class="page-content" style="display: none;">
          <div class="container">
            <div class="page-inner">
              <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4">
                <div>
                  <h3 class="fw-bold mb-3">ðŸ’± Currency Exchange</h3>
                  <h6 class="op-7 mb-2">Real-time exchange rates powered by Frankfurter API</h6>
                </div>
              </div>

              <!-- Currency Converter -->
              <div class="row">
                <div class="col-md-6">
                  <div class="card card-round">
                    <div class="card-header">
                      <div class="card-title">Currency Converter</div>
                    </div>
                    <div class="card-body">
                      <div class="converter-section">
                        <div class="currency-input mb-3">
                          <label for="fromAmount" class="form-label">From</label>
                          <div class="input-group">
                            <input type="number" class="form-control" id="fromAmount" value="1" step="0.01" min="0">
                            <select class="form-select" id="fromCurrency">
                              <option value="USD">USD</option>
                              <option value="EUR">EUR</option>
                              <option value="GBP">GBP</option>
                              <option value="JPY">JPY</option>
                              <option value="AUD">AUD</option>
                              <option value="CAD">CAD</option>
                              <option value="CHF">CHF</option>
                              <option value="CNY">CNY</option>
                            </select>
                          </div>
                        </div>

                        <div class="text-center mb-3">
                          <button class="btn btn-outline-primary btn-sm" id="swapBtn" title="Swap currencies">â‡„ Swap</button>
                        </div>

                        <div class="currency-input mb-3">
                          <label for="toAmount" class="form-label">To</label>
                          <div class="input-group">
                            <input type="number" class="form-control" id="toAmount" readonly>
                            <select class="form-select" id="toCurrency">
                              <option value="EUR">EUR</option>
                              <option value="USD">USD</option>
                              <option value="GBP">GBP</option>
                              <option value="JPY">JPY</option>
                              <option value="AUD">AUD</option>
                              <option value="CAD">CAD</option>
                              <option value="CHF">CHF</option>
                              <option value="CNY">CNY</option>
                            </select>
                          </div>
                        </div>

                        <button class="btn btn-primary w-100" id="convertBtn">Convert Currency</button>
                        <div id="result" style="display: none;" class="mt-3 p-3 bg-light rounded"></div>
                      </div>
                    </div>
                  </div>
                </div>

                <div class="col-md-6">
                  <div class="card card-round">
                    <div class="card-header">
                      <div class="card-title">Current Exchange Rates (Base: EUR)</div>
                    </div>
                    <div class="card-body">
                      <div id="ratesContainer">
                        <div class="text-center">Loading exchange rates...</div>
                      </div>
                      <div id="lastUpdated" class="small text-muted mt-3"></div>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Historical Chart -->
              <div class="row">
                <div class="col-md-12">
                  <div class="card card-round">
                    <div class="card-header">
                      <div class="card-title">ðŸ“ˆ Historical Exchange Rates</div>
                    </div>
                    <div class="card-body">
                      <div class="chart-controls mb-4">
                        <div class="row">
                          <div class="col-md-3">
                            <label class="form-label">Base Currency</label>
                            <select class="form-select" id="chartBaseCurrency">
                            <option value="EUR">EUR</option>
                            <option value="USD">USD</option>
                            <option value="GBP">GBP</option>
                            <option value="JPY">JPY</option>
                            <option value="AUD">AUD</option>
                            <option value="CAD">CAD</option>
                            <option value="CHF">CHF</option>
                            <option value="CNY">CNY</option>
                            <option value="SEK">SEK</option>
                            <option value="NZD">NZD</option>
                            </select>
                          </div>
                          <div class="col-md-3">
                            <label class="form-label">Target Currency</label>
                            <select class="form-select" id="chartTargetCurrency">
                            <option value="EUR">EUR</option>
                            <option value="USD">USD</option>
                            <option value="GBP">GBP</option>
                            <option value="JPY">JPY</option>
                            <option value="AUD">AUD</option>
                            <option value="CAD">CAD</option>
                            <option value="CHF">CHF</option>
                            <option value="CNY">CNY</option>
                            <option value="SEK">SEK</option>
                            <option value="NZD">NZD</option>
                            </select>
                          </div>
                          <div class="col-md-3">
                            <label class="form-label">Time Period</label>
                            <div class="btn-group w-100" role="group">
                              <button type="button" class="btn btn-outline-primary active period-btn" data-period="7">7D</button>
                              <button type="button" class="btn btn-outline-primary period-btn" data-period="30">1M</button>
                              <button type="button" class="btn btn-outline-primary period-btn" data-period="90">3M</button>
                              <button type="button" class="btn btn-outline-primary period-btn" data-period="180">6M</button>
                              <button type="button" class="btn btn-outline-primary period-btn" data-period="365">1Y</button>
                              <button type="button" class="btn btn-outline-primary period-btn" data-period="730">2Y</button>
                              <button type="button" class="btn btn-outline-primary period-btn" data-period="1095">3Y</button>
                              <button type="button" class="btn btn-outline-primary period-btn" data-period="1825">5Y</button>
                              <button type="button" class="btn btn-outline-primary period-btn" data-period="3650">10Y</button>
                              <button type="button" class="btn btn-outline-primary period-btn" data-period="9490">ALL</button>
                            </div>
                          </div>
                        <div class="col-md-4">
                            <label>Chart Type</label>
                            <div class="btn-group w-100" role="group">
                              <button type="button" class="btn btn-outline-primary chart-type-btn active"  data-type="line">ðŸ“ˆ Line</button>
                              <button type="button" class="btn btn-outline-primary chart-type-btn "  data-type="bar">ðŸ“Š Bar</button>
                                </div>
                            </div>
                        </div>
                        </div>
                      </div>
                      <div id="chartContainer" style="height: 600px;width: 1200px;">
                        <canvas id="exchangeChart"></canvas>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <script src="js.js"></script>

        <!-- About Page -->
        <div id="about-page" class="page-content" style="display: none;">
          <div class="container">
            <div class="page-inner">
              <div class="d-flex align-items-left align-items-md-center flex-column flex-md-row pt-2 pb-4">
                <div>
                  <h3 class="fw-bold mb-3">About FinanceHub</h3>
                  <h6 class="op-7 mb-2">Your comprehensive financial management platform</h6>
                </div>
              </div>
              
              <div class="row">
                <div class="col-md-8">
                  <div class="card card-round">
                    <div class="card-body">
                      <h4 class="card-title mb-4">About Our Platform</h4>
                      <p>FinanceHub is a comprehensive financial management platform designed to help you take control of your finances. Our platform offers real-time currency exchange, portfolio tracking, market analysis, and detailed financial reporting.</p>
                      
                      <h5 class="mt-4">Key Features:</h5>
                      <ul>
                        <li><strong>Real-time Currency Exchange:</strong> Get up-to-date exchange rates and convert currencies instantly</li>
                        <li><strong>Portfolio Management:</strong> Track your investments and analyze performance</li>
                        <li><strong>Market Data:</strong> Stay informed with global financial market updates</li>
                        <li><strong>Transaction History:</strong> Monitor all your financial transactions in one place</li>
                        <li><strong>Financial Reports:</strong> Generate comprehensive reports for better financial planning</li>
                      </ul>
                      
                      <h5 class="mt-4">Data Sources:</h5>
                      <p>Our currency exchange rates are powered by the Frankfurter API, which provides reliable and up-to-date financial data from the European Central Bank.</p>
                      
                      <h5 class="mt-4">Security & Privacy:</h5>
                      <p>We take your financial data security seriously. All transactions are encrypted and we follow industry best practices to protect your information.</p>
                    </div>
                  </div>
                </div>
                
                <div class="col-md-4">
                  <div class="card card-round">
                    <div class="card-body">
                      <h5 class="card-title">Contact Information</h5>
                      <div class="mt-3">
                        <p><i class="fas fa-envelope me-2"></i> support@financehub.com</p>
                        <p><i class="fas fa-phone me-2"></i> +1 (555) 123-4567</p>
                        <p><i class="fas fa-map-marker-alt me-2"></i> 123 Finance St, New York, NY 10001</p>
                      </div>
                      
                      <h6 class="mt-4">Business Hours:</h6>
                      <p class="small text-muted">Monday - Friday: 9:00 AM - 6:00 PM EST<br>
                      Saturday: 10:00 AM - 4:00 PM EST<br>
                      Sunday: Closed</p>
                    </div>
                  </div>
                  
                  <div class="card card-round mt-3">
                    <div class="card-body">
                      <h5 class="card-title">Version Information</h5>
                      <p class="small text-muted">
                        Version: 2.1.0<br>
                        Last Updated: August 2025<br>
                        Build: 20250808
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

      </div>
    </div>

    <!--   Core JS Files   -->
    <script src="assets/js/core/jquery-3.7.1.min.js"></script>
    <script src="assets/js/core/popper.min.js"></script>
    <script src="assets/js/core/bootstrap.min.js"></script>

    <!-- jQuery Scrollbar -->
    <script src="assets/js/plugin/jquery-scrollbar/jquery.scrollbar.min.js"></script>

    <!-- Chart JS -->
    <script src="assets/js/plugin/chart.js/chart.min.js"></script>

    <!-- jQuery Sparkline -->
    <script src="assets/js/plugin/jquery.sparkline/jquery.sparkline.min.js"></script>

    <!-- Chart Circle -->
    <script src="assets/js/plugin/chart-circle/circles.min.js"></script>

    <!-- Datatables -->
    <script src="assets/js/plugin/datatables/datatables.min.js"></script>

    <!-- Bootstrap Notify -->
    <script src="assets/js/plugin/bootstrap-notify/bootstrap-notify.min.js"></script>

    <!-- jQuery Vector Maps -->
    <script src="assets/js/plugin/jsvectormap/jsvectormap.min.js"></script>
    <script src="assets/js/plugin/jsvectormap/world.js"></script>

    <!-- Sweet Alert -->
    <script src="assets/js/plugin/sweetalert/sweetalert.min.js"></script>

    <!-- Kaiadmin JS -->
    <script src="assets/js/kaiadmin.min.js"></script>
		
		<script src="assets/js/extradashboard.js"></script>

    <script>
      // Page Navigation
      function showPage(pageId) {
        // Hide all pages
        const pages = document.querySelectorAll('.page-content');
        pages.forEach(page => {
          page.style.display = 'none';
        });
        
        // Show selected page
        document.getElementById(pageId + '-page').style.display = 'block';
        
        // Update active nav item
        const navItems = document.querySelectorAll('.nav-item');
        navItems.forEach(item => {
          item.classList.remove('active');
        });
        
        // Find and activate the clicked nav item
        const activeNav = document.querySelector(`a[href="#${pageId}"]`).parentNode;
        activeNav.classList.add('active');
        
        // If showing exchange page, initialize exchange functionality
        if (pageId === 'exchange') {
          initializeExchange();
        }
      }

      // Currency Exchange Functionality
      let exchangeChart = null;
      
      function initializeExchange() {
        loadExchangeRates();
        setupExchangeEventListeners();
      }

      function setupExchangeEventListeners() {
        // Convert button
        document.getElementById('convertBtn').addEventListener('click', convertCurrency);
        
        // Swap button
        document.getElementById('swapBtn').addEventListener('click', swapCurrencies);
        
        // Auto-convert on input change
        document.getElementById('fromAmount').addEventListener('input', convertCurrency);
        document.getElementById('fromCurrency').addEventListener('change', convertCurrency);
        document.getElementById('toCurrency').addEventListener('change', convertCurrency);
        
        // Chart controls
        document.getElementById('updateChartBtn').addEventListener('click', updateHistoricalChart);
        
        // Period buttons
        document.querySelectorAll('.period-btn').forEach(btn => {
          btn.addEventListener('click', function() {
            document.querySelectorAll('.period-btn').forEach(b => b.classList.remove('active'));
            this.classList.add('active');
          });
        });
      }

      async function convertCurrency() {
        const amount = document.getElementById('fromAmount').value;
        const from = document.getElementById('fromCurrency').value;
        const to = document.getElementById('toCurrency').value;
        
        if (!amount || amount <= 0) return;
        
        try {
          const response = await fetch(`https://api.frankfurter.app/latest?from=${from}&to=${to}`);
          const data = await response.json();
          
          const rate = data.rates[to];
          const convertedAmount = (amount * rate).toFixed(4);
          
          document.getElementById('toAmount').value = convertedAmount;
          
          const resultDiv = document.getElementById('result');
          resultDiv.innerHTML = `
            <div class="alert alert-success">
              <strong>${amount} ${from}</strong> = <strong>${convertedAmount} ${to}</strong><br>
              <small>Exchange rate: 1 ${from} = ${rate} ${to}</small>
            </div>
          `;
          resultDiv.style.display = 'block';
          
        } catch (error) {
          console.error('Error converting currency:', error);
          const resultDiv = document.getElementById('result');
          resultDiv.innerHTML = '<div class="alert alert-danger">Error converting currency. Please try again.</div>';
          resultDiv.style.display = 'block';
        }
      }

      function swapCurrencies() {
        const fromCurrency = document.getElementById('fromCurrency');
        const toCurrency = document.getElementById('toCurrency');
        
        const temp = fromCurrency.value;
        fromCurrency.value = toCurrency.value;
        toCurrency.value = temp;
        
        convertCurrency();
      }

      async function loadExchangeRates() {
        const container = document.getElementById('ratesContainer');
        
        try {
          const response = await fetch('https://api.frankfurter.app/latest?from=EUR');
          const data = await response.json();
          
          let ratesHTML = '<div class="row">';
          
          Object.entries(data.rates).slice(0, 8).forEach(([currency, rate]) => {
            ratesHTML += `
              <div class="col-md-3 col-sm-6 mb-3">
                <div class="card">
                  <div class="card-body text-center">
                    <h6 class="card-title">${currency}</h6>
                    <h4 class="text-primary">${rate.toFixed(4)}</h4>
                  </div>
                </div>
              </div>
            `;
          });
          
          ratesHTML += '</div>';
          container.innerHTML = ratesHTML;
          
          document.getElementById('lastUpdated').textContent = 
            `Last updated: ${new Date(data.date).toLocaleDateString()}`;
            
        } catch (error) {
          console.error('Error loading exchange rates:', error);
          container.innerHTML = '<div class="alert alert-danger">Error loading exchange rates</div>';
        }
      }

      async function updateHistoricalChart() {
        const baseCurrency = document.getElementById('chartBaseCurrency').value;
        const targetCurrency = document.getElementById('chartTargetCurrency').value;
        const period = document.querySelector('.period-btn.active').dataset.period;
        
        const endDate = new Date();
        const startDate = new Date();
        startDate.setDate(endDate.getDate() - parseInt(period));
        
        const startDateStr = startDate.toISOString().split('T')[0];
        const endDateStr = endDate.toISOString().split('T')[0];
        
        try {
          const response = await fetch(
            `https://api.frankfurter.app/${startDateStr}..${endDateStr}?from=${baseCurrency}&to=${targetCurrency}`
          );
          const data = await response.json();
          
          const dates = Object.keys(data.rates);
          const rates = dates.map(date => data.rates[date][targetCurrency]);
          
          const ctx = document.getElementById('exchangeChart').getContext('2d');
          
          if (exchangeChart) {
            exchangeChart.destroy();
          }
          
          exchangeChart = new Chart(ctx, {
            type: 'line',
            data: {
              labels: dates.map(date => new Date(date).toLocaleDateString()),
              datasets: [{
                label: `${baseCurrency} to ${targetCurrency}`,
                data: rates,
                borderColor: 'rgb(75, 192, 192)',
                backgroundColor: 'rgba(75, 192, 192, 0.1)',
                tension: 0.1,
                fill: true
              }]
            },
            options: {
              responsive: true,
              maintainAspectRatio: false,
              plugins: {
                title: {
                  display: true,
                  text: `${baseCurrency} to ${targetCurrency} Exchange Rate`
                }
              },
              scales: {
                y: {
                  beginAtZero: false,
                  title: {
                    display: true,
                    text: 'Exchange Rate'
                  }
                },
                x: {
                  title: {
                    display: true,
                    text: 'Date'
                  }
                }
              }
            }
          });
          
        } catch (error) {
          console.error('Error loading historical data:', error);
        }
      }

      // Initialize dashboard on load
      document.addEventListener('DOMContentLoaded', function() {
        // Show dashboard by default
        showPage('dashboard');
      });

      // Dashboard sparkline charts
      $(document).ready(function() {
        $("#lineChart").sparkline([102, 109, 120, 99, 110, 105, 115], {
          type: "line",
          height: "70",
          width: "100%",
          lineWidth: "2",
          lineColor: "#177dff",
          fillColor: "rgba(23, 125, 255, 0.14)",
        });

        $("#lineChart2").sparkline([99, 125, 122, 105, 110, 124, 115], {
          type: "line",
          height: "70",
          width: "100%",
          lineWidth: "2",
          lineColor: "#f3545d",
          fillColor: "rgba(243, 84, 93, .14)",
        });

        $("#lineChart3").sparkline([105, 103, 123, 100, 95, 105, 115], {
          type: "line",
          height: "70",
          width: "100%",
          lineWidth: "2",
          lineColor: "#ffa534",
          fillColor: "rgba(255, 165, 52, .14)",
        });
      });
    </script>
  </body>
</html>